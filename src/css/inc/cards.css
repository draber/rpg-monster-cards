card-recto,
card-verso {
  display: block;
}

character-card {
  &.editable {
    & article {
      height: 100%;
    }

    & figure {
      background: none;
      &::before,
      &::after {
        content: normal;
      }
      box-shadow: none;
    }

    & card-verso {
      flex: 2;

      & figure {
        width: auto;
      }

      & table {
        display: block;
        column-count: 2;
        column-gap: 4rem;
        padding: 0;
        list-style: none;
        font-size: 1.3rem;
      }

      & tr {
        border-bottom: var(--border);
        &[data-display="false"] {
          display: flex;
          opacity: 0.6;
        }
        &[data-display="immutable"] {
          display: flex;
          & td {
            &:last-child {
              display: block;
            }
          }
        }
        &[data-key="img"] {
          & td {
            &:nth-last-child(2)  {
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              text-align: right;
            }
          }
        }
      }

      & th,
      & td {
        display: block;
        text-align: left;
        white-space: normal;
        vertical-align: top;
        padding: 2px;
        &::after {
          content: normal;
        }
      }

      & th {
        min-width: 8rem;
      }

      & td {
        max-width: 35rem;
        &:nth-last-child(2) {
          flex: 2;
        }
        &:last-child {
          display: flex;
          gap: 1rem;
        }
      }

      & svg {
        width: 1.2rem;
        aspect-ratio: 1 / 1;
        fill: hsl(var(--c-border-h) var(--c-border-s) var(--c-border-l));
        filter: contrast(25%);
        cursor: pointer;
      }

      & .badge {
        display: none;
      }
    }
  }
}

.𝔘𝔫𝔥𝔬𝔩𝔡 {
  display: flex;
  gap: 0.6rem;
  position: relative;
  font-family: "Della Respira";
  transform-origin: 50%;

  & figure {
    position: relative;
    font-family: var(--c-card-font);
    color: var(--c-color);
    width: 21.2rem;
    height: 31.6rem;
    margin: 0;
    display: flex;
    gap: 0.8rem;
    align-items: center;
    background: hsl(var(--c-bg-h) var(--c-bg-s) var(--c-bg-l))
      var(--c-bg-pattern);
    justify-content: flex-end;
    box-shadow: 0.24rem 0.24rem 0.64rem 0 var(--c-box-shadow-color);
    padding: 1.6rem;

    &::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      border: 1.12rem solid
        hsl(var(--c-border-h) var(--c-border-s) var(--c-border-l));
    }

    &::after {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-image: var(--c-border-pattern);
    }

    & img {
      max-width: 100%;
      position: relative;
      mix-blend-mode: multiply;
      margin: auto;
    }

    &.𝔎𝔬𝔫𝔱𝔢𝔯𝔣𝔢𝔦 {
      flex-direction: column;

      & .badge {
        bottom: -0.9rem;
      }
    }

    &.𝔈𝔦𝔤𝔢𝔫𝔱ü𝔪𝔩𝔦𝔠𝔥𝔨𝔢𝔦𝔱𝔢𝔫 {
      flex-direction: column-reverse;

      & .badge {
        top: -0.9rem;

        &.cr {
          top: auto;
          display: inline-block;
          position: absolute;
          right: 0.56rem;
          bottom: 0.56rem;
          padding: 0.16rem 0.8rem;
          font-size: 1.5rem;
          line-height: 1.3;
          border-radius: 50%;
        }
      }
    }

    & .badge {
      z-index: 3;
      position: relative;
      border-style: ridge;
      border-width: 0.24rem;
      background: hsl(var(--c-badge-h) var(--c-badge-s) var(--c-badge-l));
      color: hsl(
        var(--c-badge-h),
        calc(var(--c-badge-s) + 41%),
        calc(var(--c-badge-l) - 37%)
      );
      border-color: hsl(
        var(--c-badge-h),
        calc(var(--c-badge-s) + 41%),
        calc(var(--c-badge-l) - 37%)
      );
      border-radius: 10% 20%;
      text-align: center;
      padding: 0.16rem 0.8rem;
      font: bold 1.6rem var(--c-badge-font);
      text-shadow: 0.08rem 0.08rem 0 var(--c-badge-text-shadow-color);
      display: inline-block;
      box-shadow: 0.16rem 0.16rem 0.32rem 0 var(--c-box-shadow-color);
    }
  }

  & table {
    display: flex;
    font-size: 1.1rem;
    line-height: 1.8rem;
    flex-wrap: wrap;
    gap: 0 1.2ch;

    & tr {
      display: flex;
      gap: 0.5ch;
      &[data-display="false"],
      &[data-display="immutable"] {
        display: none;
      }
    }

    & th {
      display: inline-block;
      white-space: nowrap;
      color: hsl(var(--c-border-h) var(--c-border-s) var(--c-border-l));
      filter: contrast(25%);
      &::after {
        content: ":";
      }
    }

    & td {
      display: inline-block;
      &:last-child {
        display: none;
      }
    }
  }
}
